<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How to pass through a drive to a UNRAID VM | ExitCode0</title>
<meta name=keywords content="libvert,UNRAID,VM"><meta name=description content="I recently migrated my ‘physical’ Windows 10 desktop to a ‘virtual’ machine running under UNRAID (libvert). This is a quick guide on how I was able to use my existing installation on a SSD and pass it through to a VM.
Why passthrough a drive to a VM?
In some cases, it might be beneficial to start from scratch when creating a Windows 10 VM on UNRAID, creating a new virtual disk and having a fresh install. I chose to take an alternative path because I was contempt with my Windows install as it was. I had my Steam/Epic Games library downloaded onto one of the two disks already in the system and a number of applications installed and configured just the way I like them."><meta name=author content="Tom"><link rel=canonical href=https://exitcode0.net/posts/how-to-pass-through-a-drive-to-a-unraid-vm/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://exitcode0.net/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://exitcode0.net/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://exitcode0.net/favicon-32x32.png><link rel=apple-touch-icon href=https://exitcode0.net/apple-touch-icon.png><link rel=mask-icon href=https://exitcode0.net/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://exitcode0.net/posts/how-to-pass-through-a-drive-to-a-unraid-vm/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7745507566538945" crossorigin=anonymous></script><script data-name=BMC-Widget data-cfasync=false src=https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js data-id=exit data-description="Support me on Buy me a coffee!" data-message="Buy me a coffee" data-color=#FF813F data-position=Right data-x_margin=18 data-y_margin=165></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-EDE9MPZR9T"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-EDE9MPZR9T")}</script><meta property="og:title" content="How to pass through a drive to a UNRAID VM"><meta property="og:description" content="I recently migrated my ‘physical’ Windows 10 desktop to a ‘virtual’ machine running under UNRAID (libvert). This is a quick guide on how I was able to use my existing installation on a SSD and pass it through to a VM.
Why passthrough a drive to a VM?
In some cases, it might be beneficial to start from scratch when creating a Windows 10 VM on UNRAID, creating a new virtual disk and having a fresh install. I chose to take an alternative path because I was contempt with my Windows install as it was. I had my Steam/Epic Games library downloaded onto one of the two disks already in the system and a number of applications installed and configured just the way I like them."><meta property="og:type" content="article"><meta property="og:url" content="https://exitcode0.net/posts/how-to-pass-through-a-drive-to-a-unraid-vm/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-12-12T22:00:54+00:00"><meta property="article:modified_time" content="2020-12-12T22:00:54+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to pass through a drive to a UNRAID VM"><meta name=twitter:description content="I recently migrated my ‘physical’ Windows 10 desktop to a ‘virtual’ machine running under UNRAID (libvert). This is a quick guide on how I was able to use my existing installation on a SSD and pass it through to a VM.
Why passthrough a drive to a VM?
In some cases, it might be beneficial to start from scratch when creating a Windows 10 VM on UNRAID, creating a new virtual disk and having a fresh install. I chose to take an alternative path because I was contempt with my Windows install as it was. I had my Steam/Epic Games library downloaded onto one of the two disks already in the system and a number of applications installed and configured just the way I like them."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://exitcode0.net/posts/"},{"@type":"ListItem","position":2,"name":"How to pass through a drive to a UNRAID VM","item":"https://exitcode0.net/posts/how-to-pass-through-a-drive-to-a-unraid-vm/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How to pass through a drive to a UNRAID VM","name":"How to pass through a drive to a UNRAID VM","description":"I recently migrated my ‘physical’ Windows 10 desktop to a ‘virtual’ machine running under UNRAID (libvert). This is a quick guide on how I was able to use my existing installation on a SSD and pass it through to a VM.\nWhy passthrough a drive to a VM? In some cases, it might be beneficial to start from scratch when creating a Windows 10 VM on UNRAID, creating a new virtual disk and having a fresh install. I chose to take an alternative path because I was contempt with my Windows install as it was. I had my Steam/Epic Games library downloaded onto one of the two disks already in the system and a number of applications installed and configured just the way I like them.\n","keywords":["libvert","UNRAID","VM"],"articleBody":"I recently migrated my ‘physical’ Windows 10 desktop to a ‘virtual’ machine running under UNRAID (libvert). This is a quick guide on how I was able to use my existing installation on a SSD and pass it through to a VM.\nWhy passthrough a drive to a VM? In some cases, it might be beneficial to start from scratch when creating a Windows 10 VM on UNRAID, creating a new virtual disk and having a fresh install. I chose to take an alternative path because I was contempt with my Windows install as it was. I had my Steam/Epic Games library downloaded onto one of the two disks already in the system and a number of applications installed and configured just the way I like them.\nIn short, being able to preserve my disks in their current state would save me hours of unnecessary reconfiguration.\nSo why not create an image of those disks and place them on the UNRAID array or cache? Well, I plan to have multiple VMs on my UNRAID server (other Physical to Virtual conversions), a number of docker containers, applications and uses for the array which will all be IO heavy operations. Giving my Windows VM an independent disk subsystem will ensure that it never encounters Disk IO bottlenecks. For me, this is a desirable feature.\nMy Windows 10 VM, with it’s two physical disks. The UNRAID prerequisites To pass through a drive to a UNRAID VM, there are a number of prerequisites that must be fulfilled. The following plugin will be needed:\nDlandon’s Unassigned Devices – this is a great plugin that allows a drive that is not a part of the array or cache to be used in a number of ways. It makes it possible to mount, share, or pass through an unassigned device (disk).\nMy two Windows disks marked for ‘pass thru’ Once you have enabled ‘pass thru’ for your disk, it is worth taking a note of the disk IDs, these will be needed for the following stages:\nINTEL_SSDSC2BF240A4L_CVDA411205W12403GN WDC_WD5000LPLX-75ZNTT0_WXP1EC54W1JD UNRAID VM Configuration Now we can look to create our Windows 10 VM, using our passed through Disks (Intel SSD boot drive and Western Digital HDD data drive). Here is a brief list of my settings:\nMachine: Q35-4.2 BIOS: OVMF Hyper-V: No Primary Disk: Manual, /dev/disk/by-id/, sata 2nd Disk: Manual, /dev/disk/by-id/, sata Any other devices, CPU cores and Memory allocations. My Windows 10 VM configuration. NOTE: My physical Windows installation was configured with UEFI (The C: drive was a GPT disk). If you were using legacy/BIOS, to boot into windows (Your C: drive is a BMR disk) you will need to set the UNRAID VM’s BIOS to SeaBIOS.\nThe Result A Windows 10 VM with ‘physical’ disks and in my case a physical GPU too! My Windows instance booted up, reconfigured to account for the change in available memory and CPU, and rebooted again once this was complete.\nI did need to mount the virtIO ISO file and install chipset and network drivers – this also makes Windows observe a VM stop command as a shutdown signal, much like VMware tools.\nMore UNRAID Nuggets https://exitcode0.net/posts/convert-an-esxi-vm-to-unraid-kvm-with-qume-img-convert/ – CONVERT AN ESXI VM TO UNRAID KVM WITH QUME-IMG CONVERT ","wordCount":"536","inLanguage":"en","datePublished":"2020-12-12T22:00:54Z","dateModified":"2020-12-12T22:00:54Z","author":{"@type":"Person","name":"Tom"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://exitcode0.net/posts/how-to-pass-through-a-drive-to-a-unraid-vm/"},"publisher":{"@type":"Organization","name":"ExitCode0","logo":{"@type":"ImageObject","url":"https://exitcode0.net/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://exitcode0.net/ accesskey=h title="ExitCode0 (Alt + H)">ExitCode0</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://datasolace.com/ title=DataSolace><span>DataSolace</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://exitcode0.net/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://exitcode0.net/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://exitcode0.net/privacy/ title=Privacy><span>Privacy</span></a></li><li><a href=https://exitcode0.net/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://exitcode0.net/>Home</a>&nbsp;»&nbsp;<a href=https://exitcode0.net/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">How to pass through a drive to a UNRAID VM</h1><div class=post-meta><span title='2020-12-12 22:00:54 +0000 UTC'>December 12, 2020</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Tom</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#why-passthrough-a-drive-to-a-vm aria-label="Why passthrough a drive to a VM?">Why passthrough a drive to a VM?</a></li><li><a href=#unraid-vm-configuration aria-label="UNRAID VM Configuration">UNRAID VM Configuration</a></li><li><a href=#the-result aria-label="The Result">The Result</a></li><li><a href=#more-unraid-nuggets aria-label="More UNRAID Nuggets">More UNRAID Nuggets</a></li></ul></div></details></div><div class=post-content><p>I recently migrated my ‘physical’ Windows 10 desktop to a ‘virtual’ machine running under UNRAID (libvert). This is a quick guide on how I was able to use my existing installation on a SSD and pass it through to a VM.</p><h2 id=why-passthrough-a-drive-to-a-vm>Why passthrough a drive to a VM?<a hidden class=anchor aria-hidden=true href=#why-passthrough-a-drive-to-a-vm>#</a></h2><p>In some cases, it might be beneficial to start from scratch when creating a Windows 10 VM on UNRAID, creating a new virtual disk and having a fresh install. I chose to take an alternative path because I was contempt with my Windows install as it was. I had my Steam/Epic Games library downloaded onto one of the two disks already in the system and a number of applications installed and configured just the way I like them.</p><p>In short, being able to preserve my disks in their current state would save me hours of unnecessary reconfiguration.</p><p>So why not create an image of those disks and place them on the UNRAID array or cache? Well, I plan to have multiple VMs on my UNRAID server (other Physical to Virtual conversions), a number of docker containers, applications and uses for the array which will all be IO heavy operations. Giving my Windows VM an independent disk subsystem will ensure that it never encounters Disk IO bottlenecks. For me, this is a desirable feature.</p><h2 id=the-unraid-prerequisites><img loading=lazy src="https://i0.wp.com/exitcode0.net/wp-content/uploads/2020/12/image.png?resize=551%2C102&amp;ssl=1" alt="How to pass through a drive to a UNRAID VM - two passed through drives.">
My Windows 10 VM, with it’s two physical disks.
The UNRAID prerequisites</h2><p>To pass through a drive to a UNRAID VM, there are a number of prerequisites that must be fulfilled. The following plugin will be needed:</p><p>Dlandon’s <a href=https://forums.unraid.net/topic/92462-unassigned-devices-managing-disk-drives-and-remote-shares-outside-of-the-unraid-array/ title=https://forums.unraid.net/topic/92462-unassigned-devices-managing-disk-drives-and-remote-shares-outside-of-the-unraid-array/>Unassigned Devices</a> – this is a great plugin that allows a drive that is not a part of the array or cache to be used in a number of ways. It makes it possible to mount, share, or pass through an unassigned device (disk).</p><p><img loading=lazy src="https://i1.wp.com/exitcode0.net/wp-content/uploads/2020/12/image-1-1024x148.png?resize=774%2C112&amp;ssl=1" alt="How to pass through a drive to a UNRAID VM - unassigned devices.">
My two Windows disks marked for ‘pass thru’
Once you have enabled ‘pass thru’ for your disk, it is worth taking a note of the disk IDs, these will be needed for the following stages:</p><ul><li>INTEL_SSDSC2BF240A4L_CVDA411205W12403GN</li><li>WDC_WD5000LPLX-75ZNTT0_WXP1EC54W1JD</li></ul><h2 id=unraid-vm-configuration>UNRAID VM Configuration<a hidden class=anchor aria-hidden=true href=#unraid-vm-configuration>#</a></h2><p>Now we can look to create our Windows 10 VM, using our passed through Disks (Intel SSD boot drive and Western Digital HDD data drive). Here is a brief list of my settings:</p><ul><li>Machine: Q35-4.2</li><li>BIOS: OVMF</li><li>Hyper-V: No</li><li>Primary Disk: Manual, /dev/disk/by-id/, sata</li><li>2nd Disk: Manual, /dev/disk/by-id/, sata</li><li><em>Any other devices, CPU cores and Memory allocations</em>.</li></ul><p><img loading=lazy src="https://i0.wp.com/exitcode0.net/wp-content/uploads/2020/12/image-2.png?resize=678%2C508&amp;ssl=1" alt="How to pass through a drive to a UNRAID VM - VM config example.">
My Windows 10 VM configuration.
<strong>NOTE:</strong> My physical Windows installation was configured with UEFI (The C: drive was a GPT disk). If you were using legacy/BIOS, to boot into windows (Your C: drive is a BMR disk) you will need to set the UNRAID VM’s BIOS to SeaBIOS.</p><h2 id=the-result>The Result<a hidden class=anchor aria-hidden=true href=#the-result>#</a></h2><p><img loading=lazy src="https://i0.wp.com/exitcode0.net/wp-content/uploads/2020/12/image-3-1024x36.png?resize=774%2C27&amp;ssl=1" alt="How to pass through a drive to a UNRAID VM - windows 10">
A Windows 10 VM with ‘physical’ disks and in my case a physical GPU too! My Windows instance booted up, reconfigured to account for the change in available memory and CPU, and rebooted again once this was complete.</p><p>I did need to mount the virtIO ISO file and install chipset and network drivers – this also makes Windows observe a VM stop command as a shutdown signal, much like VMware tools.</p><hr><h2 id=more-unraid-nuggets>More UNRAID Nuggets<a hidden class=anchor aria-hidden=true href=#more-unraid-nuggets>#</a></h2><ul><li><a href=https://exitcode0.net/posts/convert-an-esxi-vm-to-unraid-kvm-with-qume-img-convert/ title=https://exitcode0.net/posts/convert-an-esxi-vm-to-unraid-kvm-with-qume-img-convert/>https://exitcode0.net/posts/convert-an-esxi-vm-to-unraid-kvm-with-qume-img-convert/</a> – CONVERT AN ESXI VM TO UNRAID KVM WITH QUME-IMG CONVERT</li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://exitcode0.net/tags/libvert/>Libvert</a></li><li><a href=https://exitcode0.net/tags/unraid/>UNRAID</a></li><li><a href=https://exitcode0.net/tags/vm/>VM</a></li></ul><nav class=paginav><a class=prev href=https://exitcode0.net/posts/monitor-your-public-ip-address-with-python/><span class=title>« Prev</span><br><span>Monitor your public IP address with Python</span>
</a><a class=next href=https://exitcode0.net/posts/fixed-bose-bluetooth-headphones-with-windows-10/><span class=title>Next »</span><br><span>[FIXED] Bose Bluetooth headphones with Windows 10</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://exitcode0.net/>ExitCode0</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>